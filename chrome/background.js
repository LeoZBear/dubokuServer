(function(){var d={},g={},h={},e={},f={},k=0;chrome.runtime.onConnect.addListener(function(a){var b;a.onMessage.addListener(function(c,l,m){switch(c.name){case "panel-init":b=++k;d[c.tabId]=a;g[b]=c.tabId;h[b]=a;chrome.tabs.executeScript(c.tabId,{file:"contentScript.js"});break;case "fresh-page":chrome.tabs.executeScript(c.tabId,{file:"contentScript.js"}),e[c.tabId]=!0,f[c.tabId]=c.isPolymerPage}});a.onDisconnect.addListener(function(){tabId=g[b];delete g[b];delete h[b];delete d[tabId];delete e[tabId];
delete f[tabId];chrome.tabs.sendMessage(tabId,{name:"clean-up"})})});chrome.runtime.onMessage.addListener(function(a,b,c){if(b=d[b.tab.id])switch(a.name){case "object-changed":b.postMessage({name:"object-changed",changeList:a.changeList});break;case "dom-mutation":b.postMessage({name:"dom-mutation",changeList:a.changeList});break;case "inspected-element-changed":b.postMessage({name:"inspected-element-changed",key:a.key});break;case "polymer-ready":b.postMessage({name:"refresh"})}});chrome.webNavigation.onCommitted.addListener(function(a){if(0===
a.frameId&&(a=a.tabId,a in d)){var b=d[a];e[a]=!1;f[a]=!1;b.postMessage({name:"check-page-fresh"})}});chrome.webNavigation.onCompleted.addListener(function(a){0===a.frameId&&(a=a.tabId,a in d&&a in e&&!(a in f)&&d[a].postMessage({name:"refresh"}))})})();
