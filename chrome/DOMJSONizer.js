function DOMJSONizer(){function t(a){return a&&"element"in a&&"polymer-element"===a.element.localName}function u(a,c){(a=Object.getOwnPropertyDescriptor(a,c))||console.error(c);return!!a.set||!!a.get}function q(a,c,d,b){null===c[b]?d.push({type:"null",hasAccessor:!1,value:"null",name:b}):"string"===typeof c[b]||"number"===typeof c[b]||"boolean"===typeof c[b]?d.push({type:typeof c[b],hasAccessor:u(a,b),value:c[b].toString(),name:b}):("object"!==typeof c[b]||c[b]instanceof Array)&&"function"!==typeof c[b]?
"object"===typeof c[b]?d.push({type:"array",hasAccessor:u(a,b),length:c[b].length,value:[],name:b}):d.push({type:"undefined",hasAccessor:!1,value:"undefined",name:b}):d.push({type:typeof c[b],hasAccessor:u(a,b),value:[],name:b})}function y(a,c){function d(e){e=Object.getOwnPropertyNames(e);c&&(e=e.filter(c));return e}function b(e,h){var k={};if(t(e)){for(var f=e;f&&!Polymer.isBase(f);){for(var m=d(f),n=0;n<m.length;n++)m[n]in k||(k[m[n]]=!0,q(f,e,h,m[n]),m[n]in w&&(h[h.length-1].polymer=!0),m[n]in
e.publish&&(h[h.length-1].published=!0));f=f.__proto__}h.sort(function(z,A){return z.name.toLowerCase().localeCompare(A.name.toLowerCase())})}}function l(e,h){for(var k=Object.getOwnPropertyNames(e).sort(),f=0;f<k.length;f++)if(!c||c(k[f]))try{q(e,e,h,k[f])}catch(m){}}function p(e,h){for(var k=0;k<e.length;k++)try{q(e,e,h,k)}catch(f){}}var g={name:"Root",value:[]};if(t(a))g.type="object",b(a,g.value);else if(a instanceof Array)g.type="array",p(a,g.value);else if("object"===typeof a||"function"===
typeof a)g.type=typeof a,l(a,g.value);return g}function x(a){return a&&("SCRIPT"===a.tagName||"STYLE"===a.tagName)}function r(a,c){var d={children:[],tagName:a.tagName.toLowerCase(),isLightDOMTree:!0};c&&c(a,d,!0);if("CONTENT"===a.tagName){a=a.getDistributedNodes();for(var b=0;b<a.length;b++)"tagName"in a[b]&&d.children.push(r(a[b],c))}else if("SHADOW"===a.tagName)for(a=v(a),b=0;b<a.length;b++)d.children.push(r(a[b],c));else for(b=0;b<a.children.length;b++)a.children[b]&&"tagName"in a.children[b]&&
(x(a.children[b])||d.children.push(r(a.children[b],c)));return d}function v(a){if("CONTENT"===a.tagName){var c=[];a=a.getDistributedNodes();for(var d=0;d<a.length;d++)"tagName"in a[d]&&c.push(a[d]);return c}if("SHADOW"===a.tagName){for(c=a;!c.host||"object"!==typeof c.host;)c=c.parentNode;return c.olderShadowRoot?v(c.olderShadowRoot):[]}a.shadowRoot&&(a=a.shadowRoot);c=[];for(d=0;d<a.children.length;d++)"tagName"in a.children[d]&&c.push(a.children[d]);return c}var w={observe:!0,publish:!0,created:!0,
ready:!0,attached:!0,domReady:!0,detached:!0,attributeChanged:!0};this.JSONizeDOMObject=function(a,c){function d(b){var l={};if("tagName"in b)l.tagName=b.tagName.toLowerCase();else throw console.error(b),"tagName is a required property";if(!b||x(b))return null;c&&c(b,l);l.children=[];for(var p=v(b),g=0;g<p.length;g++)if(p[g]){var e=d(p[g]);e&&l.children.push(e)}l.lightDOMTree=r(b,c);return l}return d(a)};this.JSONizeObject=function(a,c,d){a=y(a,d);c&&c(a);return a};this.JSONizeProperty=function(a,
c){for(var d=c;d&&!d.hasOwnProperty(a);)d=d.__proto__;var b={name:"Root",type:"object",value:[]};q(d,c,b.value,a);t(c)&&(a in w&&(b.value[0].polymer=!0),a in c.publish&&(b.value[0].published=!0));return b}};
